/**
 * @description Salesforce Channel í†µí•©ì„ ìœ„í•œ Order ì»¤ìŠ¤í…€ í•„ë“œ ì •ì˜
 * @author JH Moon
 * @created 2025-07-22
 */

// Order ê°ì²´ì— ì¶”ê°€í•´ì•¼ í•  ì»¤ìŠ¤í…€ í•„ë“œë“¤:

/*
1. Salesforce_Channel_ID__c (Text, 255)
   - Salesforce Channelì˜ ê³ ìœ  ID ì €ì¥
   - External IDë¡œ ì„¤ì •

2. Salesforce_Channel_Name__c (Text, 80)
   - ìƒì„±ëœ ì±„ë„ì˜ ì´ë¦„ ì €ì¥

3. Channel_Status__c (Picklist)
   - ê°’: Active, Inactive, Archived
   - ê¸°ë³¸ê°’: Active

4. Channel_Created_Date__c (DateTime)
   - ì±„ë„ ìƒì„± ì¼ì‹œ ì €ì¥

5. Channel_Last_Activity__c (DateTime)
   - ë§ˆì§€ë§‰ ì±„ë„ í™œë™ ì¼ì‹œ

6. Channel_Member_Count__c (Number)
   - ì±„ë„ ë©¤ë²„ ìˆ˜

7. Is_Channel_Enabled__c (Checkbox)
   - ì±„ë„ í™œì„±í™” ì—¬ë¶€
   - ê¸°ë³¸ê°’: true
*/

public class OrderChannelFields {
    
    // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì´ í•„ë“œë“¤ì„ Setupì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ìƒì„±í•˜ê±°ë‚˜
    // Metadata APIë¥¼ í†µí•´ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.
    
    public static void validateChannelFields() {
        // í•„ë“œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
        Schema.SObjectType orderType = Schema.getGlobalDescribe().get('Order');
        Map<String, Schema.SObjectField> fieldMap = orderType.getDescribe().fields.getMap();
        
        List<String> requiredFields = new List<String>{
            'Salesforce_Channel_ID__c',
            'Salesforce_Channel_Name__c', 
            'Channel_Status__c',
            'Channel_Created_Date__c',
            'Is_Channel_Enabled__c'
        };
        
        List<String> missingFields = new List<String>();
        
        for (String fieldName : requiredFields) {
            if (!fieldMap.containsKey(fieldName)) {
                missingFields.add(fieldName);
            }
        }
        
        if (!missingFields.isEmpty()) {
            System.debug('âŒ ëˆ„ë½ëœ ì»¤ìŠ¤í…€ í•„ë“œ: ' + String.join(missingFields, ', '));
            System.debug('ğŸ’¡ Setupì—ì„œ ë‹¤ìŒ í•„ë“œë“¤ì„ ìƒì„±í•´ì£¼ì„¸ìš”:');
            for (String field : missingFields) {
                System.debug('   - ' + field);
            }
        } else {
            System.debug('âœ… ëª¨ë“  í•„ìˆ˜ Channel í•„ë“œê°€ ì¡´ì¬í•©ë‹ˆë‹¤.');
        }
    }
}
