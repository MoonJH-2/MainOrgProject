# 📋 Order Domain - Agentforce 통합

> **주문은 고객의 기대가 현실이 되는 순간입니다.** - Vibe Coding Philosophy

Order Domain은 SOCAR B2B 플랫폼의 주문 관리 핵심으로, 차량 예약부터 서비스 완료까지 전체 주문 라이프사이클을 관리합니다.

---

## 🎯 Order Domain 개요

### 📋 핵심 기능
- **차량 예약 관리**: 실시간 차량 예약 및 배정
- **주문 상태 추적**: 전체 주문 라이프사이클 모니터링
- **자동화된 프로세스**: 반복 주문 및 스케줄링 자동화
- **예외 상황 처리**: 취소, 변경, 긴급 요청 관리

### 🤖 Agentforce 통합 포인트

#### 1. 실시간 주문 상태 조회
```
사용자: "주문번호 ORD-2024-001234 상태를 알려주세요"
Agentforce: "주문 상태를 확인해드리겠습니다."
→ GetOrderStatus Action 실행
Agentforce: "주문번호 ORD-2024-001234는 현재 '차량 배정 완료' 상태입니다. 
- 예약 차량: 현대 아반떼 (서울23바1234)
- 픽업 시간: 2024-01-30 14:00
- 픽업 장소: 강남구 테헤란로 427
- 담당자: 김영업 (010-1234-5678)"
```

#### 2. 스마트 주문 추천
```
사용자: "내일 오후 강남에서 2시간 차량 필요해요"
Agentforce: "고객님의 이용 패턴을 분석해 최적의 옵션을 추천드립니다."
→ SmartOrderRecommendation Action 실행
Agentforce: "과거 이용 내역을 보시면 중형차를 선호하시네요. 
추천 옵션:
1. 현대 아반떼 - 시간당 12,000원 (즉시 가능)
2. 기아 K5 - 시간당 15,000원 (30분 후 가능)
바로 예약하시겠어요?"
```

---

## ⚡ Order Domain Actions

### 🔍 GetOrderStatus  
**목적**: 주문 상태 및 세부 정보 실시간 조회

**입력 파라미터**:
- `orderId` (Required): 주문 번호
- `includeHistory` (Optional): 상태 변경 이력 포함 여부

**출력**:
- 현재 주문 상태
- 예약 차량 정보
- 픽업/반납 일정
- 담당자 정보
- 상태 변경 이력

### 🚗 SearchAvailableVehicles
**목적**: 조건에 맞는 가용 차량 검색

**입력 파라미터**:
- `startDateTime` (Required): 이용 시작 시간
- `endDateTime` (Required): 이용 종료 시간  
- `location` (Required): 지역/지점
- `vehicleType` (Optional): 차량 유형
- `features` (Optional): 필요 옵션

**출력**:
- 가용 차량 목록
- 차량별 요금 정보
- 즉시 예약 가능 여부
- 대기 시간 정보

### 📅 CreateRecurringOrder
**목적**: 정기 반복 주문 생성

**입력 파라미터**:
- `accountId` (Required): 계정 ID
- `orderTemplate` (Required): 주문 템플릿
- `recurrencePattern` (Required): 반복 패턴
- `endDate` (Optional): 종료 일자

**출력**:
- 생성된 반복 주문 ID
- 다음 실행 일정
- 예상 총 비용
- 자동 알림 설정

### 🔄 ModifyOrder
**목적**: 기존 주문 변경 및 취소

**입력 파라미터**:
- `orderId` (Required): 주문 번호
- `modificationType` (Required): 변경 유형
- `newDetails` (Optional): 변경할 정보
- `reason` (Optional): 변경 사유

**출력**:
- 변경 처리 결과
- 추가/환불 비용
- 새로운 확인 번호
- 변경 확인서

---

## 📚 Knowledge Base - Order 관리

### 🚗 차량 예약 가이드
- **예약 프로세스**: 단계별 예약 방법
- **차량 유형별 특징**: 경차부터 대형차까지
- **요금제 안내**: 시간제, 일일제, 월정액
- **픽업/반납 절차**: 체크리스트 및 주의사항

### ⏰ 예약 정책
- **예약 변경 정책**: 무료 변경 조건
- **취소 정책**: 취소 수수료 및 환불 규정  
- **늦은 반납 정책**: 연장 요금 및 패널티
- **긴급 상황 대응**: 사고, 고장 시 절차

### 🔄 자동화 서비스
- **정기 예약**: 매주/매월 자동 예약
- **스마트 추천**: AI 기반 최적 차량 추천
- **동반 서비스**: 주유, 세차, 정비 서비스
- **기업 맞춤**: B2B 전용 할인 및 혜택

---

## 🧪 테스트 시나리오

### ✅ 성공 시나리오

#### 주문 상태 조회
```
사용자: "오늘 오후 예약한 차량 어디에 있나요?"
Agentforce: "오늘 14:00 예약 건을 확인해드리겠습니다.
- 차량: 현대 아반떼 (서울23바1234)
- 현재 위치: 강남구 테헤란로 427 지하주차장 B2층
- 담당자: 김매니저 (010-1234-5678)
- 픽업 준비 완료 상태입니다."
```

#### 긴급 차량 예약
```
사용자: "지금 당장 차량 필요한데 가능한가요?"
Agentforce: "즉시 가용한 차량을 확인해드리겠습니다.
현재 고객님 위치 반경 1km 내:
- 기아 모닝: 5분 거리 (즉시 가능)
- 현대 아반떼: 10분 거리 (즉시 가능)
바로 배정해드릴까요?"
```

#### 정기 예약 설정
```
사용자: "매주 월요일 오전 9시에 차량 자동 예약하고 싶어요"
Agentforce: "정기 예약을 설정해드리겠습니다.
- 요일: 매주 월요일
- 시간: 오전 9:00 ~ 18:00
- 차량: 중형차 (선호 차종)
- 장소: 회사 (강남구 테헤란로)
월 예상 비용: 480,000원
설정하시겠어요?"
```

### ⚠️ 예외 처리

#### 차량 없음
```
사용자: "내일 크리스마스에 차량 예약 가능한가요?"
Agentforce: "죄송합니다. 내일은 성수기로 인해 모든 차량이 예약 완료되었습니다.
대안 제안:
1. 12월 26일 예약 (20% 할인)
2. 대기 리스트 등록 (취소 발생 시 즉시 알림)
3. 파트너사 차량 연결 (10% 추가 요금)
어떤 옵션을 원하시나요?"
```

#### 주문 취소 요청
```
사용자: "오늘 오후 예약 취소하고 싶어요"
Agentforce: "예약 취소를 도와드리겠습니다.
- 예약 시간까지 4시간 남음
- 취소 수수료: 무료 (24시간 전 취소)
- 환불 금액: 전액 (영업일 기준 3일 내)
취소를 진행하시겠어요?"
```

---

## 📊 성능 지표

### 🎯 Order Processing KPI
- **예약 완료율**: 96% 이상
- **평균 응답 시간**: 15초 이내
- **고객 만족도**: 4.5/5.0 이상
- **취소율**: 8% 이하

### 📈 자동화 효율성
- **자동 배정 성공률**: 94%
- **정기 예약 이행률**: 99%
- **AI 추천 수용률**: 87%
- **처리 시간 단축**: 60%

---

## 🔗 관련 도메인 연계

### 🏢 Account Domain
- 계정별 주문 패턴 분석
- B2B 맞춤 주문 프로세스

### 💰 Payment Domain
- 주문 기반 자동 결제
- 후불 결제 및 정산

### 🚗 Asset Domain  
- 차량 가용성 실시간 연동
- 차량 상태 기반 배정

### 📊 Integration Domain
- 외부 시스템 주문 연동
- 파트너사 차량 네트워크

---

## 💡 베스트 프랙티스

### 🎯 Order 관리 전략
1. **고객 중심 설계**: 사용자 경험 최우선
2. **실시간 정보 제공**: 투명한 상태 공유
3. **유연한 변경 정책**: 고객 편의성 극대화

### 📊 데이터 활용
1. **패턴 분석**: 고객별 이용 패턴 학습
2. **예측 모델**: 수요 예측 및 차량 배치
3. **개인화**: 맞춤형 추천 서비스

### 🔄 프로세스 최적화
1. **자동화 확대**: 반복 작업 자동화
2. **예외 처리**: 다양한 상황별 대응 방안
3. **지속적 개선**: 고객 피드백 반영

---

**📋 Order Vibe**: "완벽한 주문은 고객이 원하는 바로 그 순간에, 바로 그 방식으로 이뤄집니다." 🚗
