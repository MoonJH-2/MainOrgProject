// Order 00000115 í˜„ì¬ ìƒíƒœ í™•ì¸
System.debug('ğŸ“Š Order 00000115 í˜„ì¬ ìƒíƒœ í™•ì¸');

// Order ì¡°íšŒ
List<Order> orders = [SELECT Id, OrderNumber, Account.Name FROM Order WHERE OrderNumber = '00000115'];
if (orders.isEmpty()) {
    System.debug('âŒ Order 00000115 ì—†ìŒ');
    return;
}

Order order = orders[0];
System.debug('âœ… Order: ' + order.OrderNumber + ' (' + order.Account.Name + ')');

// Task ì¡°íšŒ
List<Task> tasks = [
    SELECT Subject, Priority, Status, CreatedDate 
    FROM Task 
    WHERE WhatId = :order.Id 
    ORDER BY CreatedDate DESC 
    LIMIT 5
];

System.debug('ğŸ“ ì—°ê²°ëœ Task: ' + tasks.size() + 'ê°œ');
for (Task task : tasks) {
    System.debug('   â€¢ ' + task.Subject + ' (' + task.Priority + ', ' + task.Status + ')');
}

// PaymentStatus ì—°ì²´ í™•ì¸
List<PaymentStatus__c> overduePayments = [
    SELECT InstallmentNumber__c, DueDate__c, Status__c, Amount__c
    FROM PaymentStatus__c 
    WHERE Order__c = :order.Id 
    AND DueDate__c < TODAY 
    AND Status__c != 'ì™„ë‚©'
    ORDER BY InstallmentNumber__c
];

System.debug('ğŸš¨ ì—°ì²´ ê±´: ' + overduePayments.size() + 'ê°œ');
for (PaymentStatus__c payment : overduePayments) {
    System.debug('   â€¢ ' + payment.InstallmentNumber__c + 'ì°¨ (ì˜ˆì •ì¼: ' + payment.DueDate__c.format() + ')');
}

System.debug('âœ… ìƒíƒœ í™•ì¸ ì™„ë£Œ');
