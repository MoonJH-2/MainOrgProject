/**
 * ì„±ê³¼ ì¶”ì  ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸ìš© ë°ì´í„° ìƒì„± ìŠ¤í¬ë¦½íŠ¸
 * ëª©ì : ì‹¤ì œ í™”ë©´ì—ì„œ í™•ì¸ ê°€ëŠ¥í•œ ì˜ë¯¸ìˆëŠ” ë°ì´í„° ìƒì„±
 */

System.debug('ğŸš€ === ì„±ê³¼ ì¶”ì  ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± ì‹œì‘ ===');

// 1ë‹¨ê³„: í…ŒìŠ¤íŠ¸ìš© Account ìƒì„±
List<Account> testAccounts = new List<Account>();

Account account1 = new Account(
    Name = 'ì‚¼ì„±ì „ì',
    Type = 'Customer',
    Industry = 'Technology',
    AnnualRevenue = 50000000000.00
);

Account account2 = new Account(
    Name = 'LGì „ì', 
    Type = 'Customer',
    Industry = 'Technology',
    AnnualRevenue = 30000000000.00
);

Account account3 = new Account(
    Name = 'í˜„ëŒ€ìë™ì°¨',
    Type = 'Customer', 
    Industry = 'Automotive',
    AnnualRevenue = 40000000000.00
);

Account account4 = new Account(
    Name = 'SKí…”ë ˆì½¤',
    Type = 'Customer',
    Industry = 'Telecommunications', 
    AnnualRevenue = 20000000000.00
);

Account account5 = new Account(
    Name = 'ë„¤ì´ë²„',
    Type = 'Customer',
    Industry = 'Technology',
    AnnualRevenue = 5000000000.00
);

testAccounts.add(account1);
testAccounts.add(account2);
testAccounts.add(account3);
testAccounts.add(account4);
testAccounts.add(account5);

try {
    insert testAccounts;
    System.debug('âœ… í…ŒìŠ¤íŠ¸ Account ìƒì„± ì™„ë£Œ: ' + testAccounts.size() + 'ê°œ');
    
    // 2ë‹¨ê³„: ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤ì˜ Asset ìƒì„±
    List<Asset> testAssets = new List<Asset>();
    
    // ì‹œë‚˜ë¦¬ì˜¤ 1: ê°±ì‹  ì„ë°• ê³ ì•¡ ìì‚° (ìš°ì„ ìˆœìœ„ ë†’ìŒ)
    Asset asset1 = new Asset(
        Name = 'Enterprise Server ì‹œìŠ¤í…œ',
        AccountId = testAccounts[0].Id,
        Status = 'Installed',
        Price = 15000000, // 1,500ë§Œì›
        Quantity = 2,
        InstallDate = Date.today().addDays(-350), // 350ì¼ ì „ ì„¤ì¹˜
        UsageEndDate = Date.today().addDays(15), // 15ì¼ í›„ ë§Œë£Œ - ê°±ì‹  ì„ë°•!
        Description = 'í•µì‹¬ ì—…ë¬´ ì‹œìŠ¤í…œ - ê°±ì‹  í•„ìˆ˜'
    );
    
    Asset asset2 = new Asset(
        Name = 'CRM ì†Œí”„íŠ¸ì›¨ì–´ ë¼ì´ì„ ìŠ¤',
        AccountId = testAccounts[1].Id,
        Status = 'Installed', 
        Price = 8000000, // 800ë§Œì›
        Quantity = 1,
        InstallDate = Date.today().addDays(-340),
        UsageEndDate = Date.today().addDays(25), // 25ì¼ í›„ ë§Œë£Œ
        Description = 'ì˜ì—…íŒ€ í•„ìˆ˜ ë„êµ¬'
    );
    
    // ì‹œë‚˜ë¦¬ì˜¤ 2: ê³ ì•¡ ìì‚°ì´ì§€ë§Œ ì—¬ìœ  ìˆëŠ” ê°±ì‹  (ì¤‘ê°„ ìš°ì„ ìˆœìœ„)
    Asset asset3 = new Asset(
        Name = 'í´ë¼ìš°ë“œ ì¸í”„ë¼ ì„œë¹„ìŠ¤',
        AccountId = testAccounts[2].Id,
        Status = 'Installed',
        Price = 25000000, // 2,500ë§Œì› - ê³ ì•¡!
        Quantity = 1, 
        InstallDate = Date.today().addDays(-300),
        UsageEndDate = Date.today().addDays(60), // 60ì¼ í›„ ë§Œë£Œ
        Description = 'ì „ì‚¬ í´ë¼ìš°ë“œ í”Œë«í¼'
    );
    
    Asset asset4 = new Asset(
        Name = 'ë³´ì•ˆ ì†”ë£¨ì…˜',
        AccountId = testAccounts[3].Id,
        Status = 'Installed',
        Price = 12000000, // 1,200ë§Œì›
        Quantity = 1,
        InstallDate = Date.today().addDays(-320),
        UsageEndDate = Date.today().addDays(45), // 45ì¼ í›„ ë§Œë£Œ
        Description = 'ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ì‹œìŠ¤í…œ'
    );
    
    // ì‹œë‚˜ë¦¬ì˜¤ 3: ì†Œì•¡ì´ì§€ë§Œ ê°±ì‹  ì„ë°• (ë‚®ì€ ìš°ì„ ìˆœìœ„)
    Asset asset5 = new Asset(
        Name = 'ì˜¤í”¼ìŠ¤ ì†Œí”„íŠ¸ì›¨ì–´',
        AccountId = testAccounts[4].Id,
        Status = 'Installed',
        Price = 500000, // 50ë§Œì› - ì†Œì•¡
        Quantity = 10,
        InstallDate = Date.today().addDays(-365),
        UsageEndDate = Date.today().addDays(10), // 10ì¼ í›„ ë§Œë£Œ
        Description = 'ì‚¬ë¬´ìš© ì†Œí”„íŠ¸ì›¨ì–´ íŒ¨í‚¤ì§€'
    );
    
    // ì‹œë‚˜ë¦¬ì˜¤ 4: ì—¬ìœ  ìˆëŠ” ê°±ì‹  (ì°¸ê³ ìš©)
    Asset asset6 = new Asset(
        Name = 'ë°ì´í„°ë² ì´ìŠ¤ ë¼ì´ì„ ìŠ¤',
        AccountId = testAccounts[0].Id,
        Status = 'Installed',
        Price = 18000000, // 1,800ë§Œì›
        Quantity = 1,
        InstallDate = Date.today().addDays(-200),
        UsageEndDate = Date.today().addDays(165), // 165ì¼ í›„ ë§Œë£Œ
        Description = 'í•µì‹¬ ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ'
    );
    
    testAssets.add(asset1);
    testAssets.add(asset2);
    testAssets.add(asset3);
    testAssets.add(asset4);
    testAssets.add(asset5);
    testAssets.add(asset6);
    
    insert testAssets;
    System.debug('âœ… í…ŒìŠ¤íŠ¸ Asset ìƒì„± ì™„ë£Œ: ' + testAssets.size() + 'ê°œ');
    
    // 3ë‹¨ê³„: ì›”ê°„ ì„±ê³¼ë¥¼ ìœ„í•œ Opportunity ìƒì„±
    List<Opportunity> testOpportunities = new List<Opportunity>();
    
    // ì™„ë£Œëœ ê°±ì‹  (ì´ë²ˆ ë‹¬)
    Opportunity completedOpp1 = new Opportunity(
        Name = 'ì‚¼ì„±ì „ì - ì„œë²„ ì‹œìŠ¤í…œ ê°±ì‹ ',
        AccountId = testAccounts[0].Id,
        StageName = 'Closed Won',
        CloseDate = Date.today().addDays(-5), // 5ì¼ ì „ ì™„ë£Œ
        Amount = 20000000, // 2,000ë§Œì›
        Type = 'Renewal',
        Description = 'ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê°±ì‹ '
    );
    
    Opportunity completedOpp2 = new Opportunity(
        Name = 'LGì „ì - ì†Œí”„íŠ¸ì›¨ì–´ ê°±ì‹ ',
        AccountId = testAccounts[1].Id,
        StageName = 'Closed Won', 
        CloseDate = Date.today().addDays(-10), // 10ì¼ ì „ ì™„ë£Œ
        Amount = 15000000, // 1,500ë§Œì›
        Type = 'Renewal',
        Description = 'ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê°±ì‹ '
    );
    
    // ì§„í–‰ ì¤‘ì¸ ê°±ì‹ 
    Opportunity inProgressOpp1 = new Opportunity(
        Name = 'í˜„ëŒ€ìë™ì°¨ - í´ë¼ìš°ë“œ ê°±ì‹ ',
        AccountId = testAccounts[2].Id,
        StageName = 'Prospecting',
        CloseDate = Date.today().addDays(30), // 30ì¼ í›„ ì˜ˆì •
        Amount = 30000000, // 3,000ë§Œì›
        Type = 'Renewal',
        Description = 'ì§„í–‰ ì¤‘ì¸ ê°±ì‹  í”„ë¡œì„¸ìŠ¤'
    );
    
    Opportunity inProgressOpp2 = new Opportunity(
        Name = 'SKí…”ë ˆì½¤ - ë³´ì•ˆ ì†”ë£¨ì…˜ ê°±ì‹ ',
        AccountId = testAccounts[3].Id,
        StageName = 'Qualification',
        CloseDate = Date.today().addDays(45), // 45ì¼ í›„ ì˜ˆì •
        Amount = 18000000, // 1,800ë§Œì›
        Type = 'Renewal', 
        Description = 'ì§„í–‰ ì¤‘ì¸ ê°±ì‹  í”„ë¡œì„¸ìŠ¤'
    );
    
    testOpportunities.add(completedOpp1);
    testOpportunities.add(completedOpp2);
    testOpportunities.add(inProgressOpp1);  
    testOpportunities.add(inProgressOpp2);
    
    insert testOpportunities;
    System.debug('âœ… í…ŒìŠ¤íŠ¸ Opportunity ìƒì„± ì™„ë£Œ: ' + testOpportunities.size() + 'ê°œ');
    
    // 4ë‹¨ê³„: ê³ ê° ê±´ê°•ë„ë¥¼ ìœ„í•œ Case ìƒì„±
    List<Case> testCases = new List<Case>();
    
    // ë¬¸ì œ ìˆëŠ” ê³ ê° (ìœ„í—˜)
    Case case1 = new Case(
        AccountId = testAccounts[4].Id, // ë„¤ì´ë²„
        Subject = 'ì‹œìŠ¤í…œ ì„±ëŠ¥ ì €í•˜ ë¬¸ì œ',
        Status = 'New',
        Priority = 'High',
        Origin = 'Phone',
        Description = 'ì‹œìŠ¤í…œ ì‘ë‹µ ì†ë„ê°€ í˜„ì €íˆ ëŠë ¤ì§'
    );
    
    Case case2 = new Case(
        AccountId = testAccounts[4].Id, // ë„¤ì´ë²„ (ê°™ì€ ê³ ê°)
        Subject = 'ë¡œê·¸ì¸ ì˜¤ë¥˜ ë°œìƒ',
        Status = 'Working',
        Priority = 'Medium',
        Origin = 'Email',
        Description = 'íŠ¹ì • ì‚¬ìš©ì ë¡œê·¸ì¸ ë¶ˆê°€ í˜„ìƒ'
    );
    
    Case case3 = new Case(
        AccountId = testAccounts[4].Id, // ë„¤ì´ë²„ (ê°™ì€ ê³ ê° - 3ê°œ Caseë¡œ ìœ„í—˜ ê³ ê°)
        Subject = 'ë°ì´í„° ë™ê¸°í™” ë¬¸ì œ', 
        Status = 'New',
        Priority = 'Medium',
        Origin = 'Web',
        Description = 'ë°ì´í„° ë™ê¸°í™” ì§€ì—° ë°œìƒ'
    );
    
    // ì£¼ì˜ í•„ìš” ê³ ê° (ê²½ë¯¸í•œ ë¬¸ì œ)
    Case case4 = new Case(
        AccountId = testAccounts[3].Id, // SKí…”ë ˆì½¤
        Subject = 'ì‚¬ìš©ì êµìœ¡ ìš”ì²­',
        Status = 'Working',
        Priority = 'Low',
        Origin = 'Email',
        Description = 'ì‹ ê·œ ê¸°ëŠ¥ ì‚¬ìš©ë²• ë¬¸ì˜'
    );
    
    testCases.add(case1);
    testCases.add(case2);
    testCases.add(case3);
    testCases.add(case4);
    
    insert testCases;
    System.debug('âœ… í…ŒìŠ¤íŠ¸ Case ìƒì„± ì™„ë£Œ: ' + testCases.size() + 'ê°œ');
    
    // 5ë‹¨ê³„: ìƒì„±ëœ ë°ì´í„° ìš”ì•½ ì¶œë ¥
    System.debug('');
    System.debug('ğŸ“Š === ìƒì„±ëœ í…ŒìŠ¤íŠ¸ ë°ì´í„° ìš”ì•½ ===');
    System.debug('ğŸ¢ Account: ' + testAccounts.size() + 'ê°œ (ëŒ€ê¸°ì—… ê³ ê°)');
    System.debug('ğŸ’¼ Asset: ' + testAssets.size() + 'ê°œ (ë‹¤ì–‘í•œ ê°±ì‹  ì‹œë‚˜ë¦¬ì˜¤)');
    System.debug('ğŸ’° Opportunity: ' + testOpportunities.size() + 'ê°œ (ì™„ë£Œ 2ê±´, ì§„í–‰ 2ê±´)');
    System.debug('ğŸ« Case: ' + testCases.size() + 'ê°œ (ê³ ê° ê±´ê°•ë„ í…ŒìŠ¤íŠ¸ìš©)');
    System.debug('');
    System.debug('ğŸ¯ ì˜ˆìƒ ëŒ€ì‹œë³´ë“œ ê²°ê³¼:');
    System.debug('  ğŸ’° ì˜¤ëŠ˜ ì˜ˆìƒ ë§¤ì¶œ: ì•½ 6,600ë§Œì› (ê³ ì•¡ ìì‚°ë“¤ì˜ 80% í™•ë¥ )');
    System.debug('  ğŸ¯ ì›”ê°„ ì™„ë£Œ: 2ê±´ (3,500ë§Œì›)');
    System.debug('  ğŸ¯ ì›”ê°„ ì§„í–‰: 2ê±´ (4,800ë§Œì›)');
    System.debug('  ğŸŸ¢ ê±´ê°• ê³ ê°: 3ëª… (ì‚¼ì„±, LG, í˜„ëŒ€)');
    System.debug('  ğŸŸ¡ ì£¼ì˜ ê³ ê°: 1ëª… (SKí…”ë ˆì½¤)');
    System.debug('  ğŸ”´ ìœ„í—˜ ê³ ê°: 1ëª… (ë„¤ì´ë²„)');
    System.debug('  ğŸ† ë ˆë²¨: ì‹¤ë²„ ë‹¬ì„± (ì™„ë£Œ 3,500ë§Œì›)');
    
} catch(Exception e) {
    System.debug('âŒ í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± ì‹¤íŒ¨: ' + e.getMessage());
    System.debug('ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤: ' + e.getStackTraceString());
}

System.debug('ğŸš€ === ì„±ê³¼ ì¶”ì  ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± ì™„ë£Œ ===');
System.debug('ğŸ’¡ ì´ì œ ëŒ€ì‹œë³´ë“œë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”!');
